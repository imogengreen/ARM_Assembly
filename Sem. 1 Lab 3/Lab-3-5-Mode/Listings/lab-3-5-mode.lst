


ARM Macro Assembler    Page 1 


    1 00000000         ;
    2 00000000         ; CSU11021 Introduction to Computing I 2019/2020
    3 00000000         ; Mode
    4 00000000         ;
    5 00000000         
    6 00000000                 AREA             RESET, CODE, READONLY
    7 00000000                 ENTRY
    8 00000000         
    9 00000000 E59F4090        LDR              R4, =tstN   ; load address of t
                                                            stN
   10 00000004 E5941000        LDR              R1, [R4]    ; load value of tst
                                                            N
   11 00000008         
   12 00000008 E59F208C        LDR              R2, =tstvals ; load address of 
                                                            numbers
   13 0000000C E3A0A000        LDR              R10, =0     ; set count = 0
   14 00000010         forlp
   15 00000010 E15A0001        CMP              R10, R1     ; while (count <= n
                                                            umber of values)
   16 00000014 8A000013        BHI              endmode     ; {
   17 00000018 E5925000        LDR              R5, [R2]    ; first number load
                                                            ed into R5
   18 0000001C E28AA001        ADD              R10, R10, #1 ; count++
   19 00000020 E3A0B000        LDR              R11, =0     ; initialise second
                                                             counter for tally 
                                                            of next number in s
                                                            tring
   20 00000024 E59F3070        LDR              R3, =tstvals ; reloading from m
                                                            emory to find secon
                                                            d value
   21 00000028 E3A07000        LDR              R7, =0      ; counter for compa
                                                            rison between chara
                                                            cter and next chara
                                                            cter
   22 0000002C         forlp1
   23 0000002C E15B0001        CMP              R11, R1     ; while (count <= n
                                                            umber of values)
   24 00000030 8A000006        BHI              endloop
   25 00000034 E5936000        LDR              R6, [R3]    ; reload from memor
                                                            y into R6
   26 00000038 E28BB001        ADD              R11, R11, #1 ; count++
   27 0000003C         mode
   28 0000003C E1550006        CMP              R5, R6      ; if (char = next c
                                                            har)
   29 00000040 1A000000        BNE              nextvalue
   30 00000044 E2877001        ADD              R7, R7, #1  ; count++
   31 00000048         nextvalue
   32 00000048 E2833004        ADD              R3, R3, #4  ; incrementing the 
                                                            value by 1 byte 
   33 0000004C EAFFFFF6        B                forlp1      ; get the next valu
                                                            e in the string 
   34 00000050         endloop
   35 00000050 E1570008        CMP              R7, R8      ; 1st iteration: wi
                                                            ll always be 0; sub
                                                            sequent iterations 
                                                            will involve overri
                                                            ding old count with
                                                             new
   36 00000054 3A000001        BLO              endst       ; 



ARM Macro Assembler    Page 2 


   37 00000058 E1A08007        MOV              R8, R7      ; new count overrid
                                                            es old count
   38 0000005C E1A00005        MOV              R0, R5      ; R0 is the mode
   39 00000060         endst
   40 00000060 E2822004        ADD              R2, R2, #4
   41 00000064 EAFFFFE9        B                forlp
   42 00000068         endmode
   43 00000068         
   44 00000068 EAFFFFFE 
                       STOP    B                STOP
   45 0000006C         
   46 0000006C 0000000A 
                       tstN    DCD              10          ; N (number of numb
                                                            ers)
   47 00000070 00000005 
              00000003 
              00000007 
              00000005 
              00000003 
              00000005 
              00000001 
              00000009 
              00000003 
              00000003 tstvals DCD              5, 3, 7, 5, 3, 5, 1, 9, 3, 3 
                                                            ; numbers
   48 00000098         
   49 00000098                 END
              00000000 
              00000000 
              00000000 
Command Line: --debug --xref --diag_suppress=9931 --apcs=interwork --depend=.\o
bjects\lab-3-5-mode.d -o.\objects\lab-3-5-mode.o -IC:\Keil_v5\ARM\RV31\INC -IC:
\Keil_v5\ARM\CMSIS\Include -IC:\Keil_v5\ARM\INC\Philips --predefine="__EVAL SET
A 1" --predefine="__UVISION_VERSION SETA 528" --list=.\listings\lab-3-5-mode.ls
t Lab-3-5-Mode.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

RESET 00000000

Symbol: RESET
   Definitions
      At line 6 in file Lab-3-5-Mode.s
   Uses
      None
Comment: RESET unused
STOP 00000068

Symbol: STOP
   Definitions
      At line 44 in file Lab-3-5-Mode.s
   Uses
      At line 44 in file Lab-3-5-Mode.s
Comment: STOP used once
endloop 00000050

Symbol: endloop
   Definitions
      At line 34 in file Lab-3-5-Mode.s
   Uses
      At line 24 in file Lab-3-5-Mode.s
Comment: endloop used once
endmode 00000068

Symbol: endmode
   Definitions
      At line 42 in file Lab-3-5-Mode.s
   Uses
      At line 16 in file Lab-3-5-Mode.s
Comment: endmode used once
endst 00000060

Symbol: endst
   Definitions
      At line 39 in file Lab-3-5-Mode.s
   Uses
      At line 36 in file Lab-3-5-Mode.s
Comment: endst used once
forlp 00000010

Symbol: forlp
   Definitions
      At line 14 in file Lab-3-5-Mode.s
   Uses
      At line 41 in file Lab-3-5-Mode.s
Comment: forlp used once
forlp1 0000002C

Symbol: forlp1
   Definitions
      At line 22 in file Lab-3-5-Mode.s
   Uses
      At line 33 in file Lab-3-5-Mode.s
Comment: forlp1 used once
mode 0000003C

Symbol: mode



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 27 in file Lab-3-5-Mode.s
   Uses
      None
Comment: mode unused
nextvalue 00000048

Symbol: nextvalue
   Definitions
      At line 31 in file Lab-3-5-Mode.s
   Uses
      At line 29 in file Lab-3-5-Mode.s
Comment: nextvalue used once
tstN 0000006C

Symbol: tstN
   Definitions
      At line 46 in file Lab-3-5-Mode.s
   Uses
      At line 9 in file Lab-3-5-Mode.s
Comment: tstN used once
tstvals 00000070

Symbol: tstvals
   Definitions
      At line 47 in file Lab-3-5-Mode.s
   Uses
      At line 12 in file Lab-3-5-Mode.s
      At line 20 in file Lab-3-5-Mode.s

11 symbols
345 symbols in table
